Đây là toàn bộ sự tranh chấp của chủ đề này. Khi chạy đồng bộ, bạn có thể đẩy bao nhiêu lần tùy thích. Ngay khi hàm này được gọi trong một lời hứa hoặc bối cảnh không đồng bộ, nó sẽ kích hoạt các cuộc gọi khác khác đến _read. Hành vi này gây ra tất cả các loại tình trạng hỗn loạn. Giả sử nguồn của bạn là một API trả về mảng json: [{...}, {...}, ...] và bạn muốn xử lý từng mục, bạn không thể đẩy cho từng đối tượng trong mảng hoặc bạn sẽ Kích hoạt số lượng đọc đồng thời đó cho API của bạn và Chúa biết điều gì có thể xảy ra với trạng thái nội bộ của bạn giả sử bạn có thể mở rộng và xây dựng luồng tùy chỉnh của riêng bạn. Các giải pháp duy nhất tôi đã tìm thấy là giải pháp được đề xuất bởi @calvinmetcalf hoặc để đẩy mảng và có một biến đổi giải mã nó thành đối tượng riêng biệt của nó hoặc chỉ có từng phần của luồng xử lý mảng dữ liệu của bạn. Nếu không, không an toàn khi đẩy nhiều lần trong một hoạt động _read không đồng bộ.